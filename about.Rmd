---
title: "About this site"
---
<center>
<button> <a href="https://www.coris.noaa.gov/monitoring/" target="_blank" style="font-size:100%;color:#2471A3;font-weight:bold"> NCRMP Website</a></button>
</center>
<br>


## What do I need to download? {.tabset}
### Benthic
The benthic R package can be accessed <a href="https://github.com/shgroves/NCRMP_benthics" target="_blank" style="color:blue">here.</a>
Instructions to download and install the package are available on the GitHub page. <br>
In addition to the R package, the files for the benthic figures are available under the tab "Download" individually or in a zip file. <br><br>

Download instructions: <br>
1. Download the .zip file from GitHub (green "Code" button, download zip) <br>
2. Open the .Rproj file inside the .zip in RStudio <br>
3. Run the following code
```{r eval=FALSE}
install.packages('devtools') #if devtools is not already installed
devtools::install()
```
<br>
4. Exit the .Rproj and run the following code from your own project or workspace
```{r eval=FALSE}
library(ncrmp.benthics.analysis) 
```


<br><br><br>

### Fish
The fish R package can be accessed <a href="https://github.com/jeremiaheb/rvc" target="_blank" style="color:blue">here.</a>
Instructions to download and install the package are available on the GitHub page. <br>
In addition to the R package, the files for the benthic figures are available under the tab "Download" individually or in a zip file. <br> <br>

Download instructions: <br>
1. Run the following code in R
```{r eval=FALSE}
install.packages('devtools') #skip if devtools is already installed
devtools::install_github('jeremiaheb/rvc')
```

<br><br><br>


## Getting started

<br>

### Load libraries and scripts

Once you have downloaded/installed all relevant R scripts and packages, they must be loaded into R. <br>
To use load installed NCRMP libraries, use the following: <br>
Benthic: **library(ncrmp.benthics.analysis)** <br>
Fish: **library(rvc)**


#### How to source R files {.tabset}
To use the files downloaded here as .R scripts, use the following template: <br>
**source("path/to/file.R")**
<br>

##### Benthic files and libraries example
```{r Bsource, message=FALSE,warning=FALSE}
library(ncrmp.benthics.analysis)
library(tidyverse)
```

<br>

##### Fish files and libraries example
```{r Fsource, message=FALSE,warning=FALSE}
library(rvc)
library(tidyverse)
source("fish_plots/theme_publication.R")
source("fish_plots/labeler.R")
source("fish_plots/WrapperFunctions.R")
source("fish_plots/QL_binned_LengthFreq.R")
source("fish_plots/QL_SubregionDensityPlot.R")
source("fish_plots/plot_horizontal_bar_shared_axis.R")
```

<br>

### Load data {.tabset}

#### Benthic
Benthic data is downloaded with the package. <br>
When data sets are added, the package must me re-installed.
<br><br>

#### Fish
Fish data is not included in the package download, and must be accessed from the server. <br>
Data can be accessed using the method **getRvcData()**. See example below: 
```{r fishdata, message=FALSE,warning=FALSE}
keys11_14 = getRvcData(years = 2011:2014, regions = c("FLA KEYS"))
torts12_16 = getRvcData(years = 2012:2016, regions = c("DRY TORT"))
```
When data sets are added, no additional actions must be taken.
<br><br>

## About the data 

<br>

### Benthic {.tabset}

#### Coral Species
<a href="benthic_plots/benthic_spp.txt" download style="color:blue">Download list of coral species</a>

#### Regions
BLAH BLAH
<br>

### Fish {.tabset}

#### Fish Species
<a href="fish_plots/fish_spp.txt" download style="color:blue">Download list of fish species</a>

#### Regions
<!-- 
To add a year
*Add a set of "" to the end of every vector/list
*Empty "" indiate no data that year, "X" indicates available data

To add a new location
*Add the code to the rnames vector/list within ""
*Then add a new list at the bottom with a code and indicate what years are available from that location, with enough "" for years from 1999 through the most recent year
*Indicate what years data is available with "X" and unavailable as ""
*Add this code to the end of the list in 'df'
-->
Option 1 (manual input):
```{r fish_reg, echo=FALSE, messages=FALSE, warning=FALSE}
library("DT")
cnames <- c("DRY TORT", "FLA KEYS", "PRICO", "SEFCRI", "STTSTJ", "STC")
rnames <- c(1999:2021)
dt <- c("X", "X", "", "", "", "X", "", "X", "", "X", "", "X", "", "X", "", "X", "", "X", "", "X", "", "", "X")
fk <- c("X", "X", "X", "X", "X", "X", "X", "X", "X", "X", "X", "X", "X", "X", "", "X", "", "X", "", "X", "", "", "")
pr <- c("", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "X", "", "", "X", "", "X")
se <- c("", "", "", "", "", "", "", "", "", "", "", "", "", "", "X", "X", "X", "X", "", "X", "", "", "X")
stj <- c("", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "X", "", "X", "", "X")
stc <- c("", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "X", "", "X", "", "X")
df <- data.frame(dt, fk, pr, se, stj, stc)
colnames(df) <- cnames
rownames(df) <- rnames
datatable(df, class = 'cell-border stripe', 
          options = list(ordering=F))
```

Option 2 (csv):
```{r fish_reg2, echo=FALSE, messages=FALSE, warning=FALSE}
library("DT")
cnames <- c("DRY TORT", "FLA KEYS", "PRICO", "SEFCRI", "STTSTJ", "STC")
rnames <- c(1999:2021)
data <- read.csv("benthic_plots/NCRMP-b-datayrs.csv", header = FALSE)
df <- data.frame(data[,-1], row.names = data[,1])
colnames(df) <- as.character(df[1,])
df <- df[-1,]
df <- data.frame(t(df))
datatable(df, class = 'cell-border stripe', 
          options = list(ordering=F))
```
